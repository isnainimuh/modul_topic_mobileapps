<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Target Week 6 - Setup Provider/State Management</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs/themes/prism.css">
</head>
<body>
  <header>
    <h1>Target Week 6 - Setup Provider/State Management</h1>
    <nav>
      <a href="index.html">üè† Daftar Materi</a> |
      <a href="bab5.html">‚¨ÖÔ∏è Target Sebelumnya</a> |
      <a href="bab7.html">‚û°Ô∏è Target Berikutnya</a>
    </nav>
  </header>

  <main>
    <h2>Pengenalan State Management, Provider dan BLoC</h2>
    <p>Sebelum mulai melakukan coding, kita harus mengenal dulu apa
      itu state, provider dan bloc dalam lingkungan pengembangan 
    aplikasi mobile menggunakan Flutter.</p>
    <h2>State (keadaan)</h2>
    <p>State adalah data atau kondisi yang dapat berubah seiring waktu 
      dalam aplikasi dan memengaruhi tampilan UI. Setiap kali state berubah, UI 
      harus diperbarui (rebuild) agar menampilkan data terbaru.<br>
    State bisa bersifat: <br>
    <li>Local state: hanya dipakai dalam satu widget (misalnya setState() di Flutter)</li>
    <li>Global state: dibutuhkan oleh banyak widget di seluruh aplikasi 
      (misalnya status login user, tema aplikasi, keranjang belanja, dll).</li>
    Kelebihan dari state adalah mudah digunakan dan sesuai untuk state kecil/lokal.
    Adapun kekurangannya adalah sulit dikelola jika aplikasi semakin besar dan kompleks.
    </p>

    <h2>Provider</h2>
    <p>Provider adalah library (dan juga pola arsitektur) yang mempermudah 
      pengelolaan dan distribusi state ke seluruh aplikasi.
Ia bertindak sebagai penyambung data (state) ke widget-widget 
yang membutuhkan, tanpa perlu mengoper data secara manual lewat 
constructor.<br>
Provider menggunakan prinsip Dependency Injection (DI) dan Reactive Programming.
Ketika data di Provider berubah, semua widget yang ‚Äúmendengarkan‚Äù perubahan itu akan otomatis rebuild.
Provider cocok digunakan untuk state global dan aplikasi menengah hingga besar.
    <br>
  Kelebihan provider adalah mudah digunakan dan efisien, rebuild hanya bagian UI yang perlu
  dan sesuai untuk proyek skala menengah.
Kekurangan provider adalah ketika logika bisnis semakin kompleks, 
maka struktur kode menjadi sulit diatur. Provider tidak memisahkan 
dengan tegas antara UI layer dan business logic.
</p>

  <h2>BLoC (Business Logic Component)</h2>
    <p>BLoC adalah arsitektur yang memisahkan UI (View) dari Business Logic dengan menggunakan stream (aliran data).
    BLoC menggunakan pendekatan yang sangat reaktif.<br>
    UI mengirim event ke BLoC. BLoC memproses event itu (misalnya hitung 
    data, ambil dari API, validasi), kemudian mengirim state baru kembali 
    melalui stream untuk memperbarui UI. BLoC biasa digunakan bersama 
    library seperti flutter_bloc
    </p>

    <h2>Project Ecommerce dengan Provider</h2>
    <p>Dari penjelasan singkat di atas, project yang akan kita buat ini 
      lebih cocok menggunakan provider karena:<br>
      <li>Ukuran project medium (tidak terlalu kompleks).</li>
      <li>Proses development memerlukan waktu yang lebih cepat.</li>
      <li>Provider sudah memenuhi semua kebutuhan project ini.</li>
      <br>
      Adapun BLoC merupakan advanced version of state management yang cocok
      digunakan untuk project skala besar dengan tingkat kompleksitas yang
      tinggi.
      <br><br>
      Provider dan state yang dibutuhkan untuk E-commerce Project antara lain:<br>
      <li>AuthProvider </li>
      <li>CartProvider </li>
      <li>ProductProvider </li>
      <li>OrderProvider </li>
      <li>PaymentProvider </li>
      <br>Pembuatan tiap provider akan dibahas satu per satu dalam bab ini.
    </p>
    <h2>Flutter Auth</h2>
    <p>Tahap berikutnya, kita akan membuat screen login dan register di Flutter. 
    </p>
    <h3>Auth Model</h3>
    <p>Lokasi file: lib/models/auth.dart</p>
    <div class="code-block">
      <button class="copy-btn" onclick="copyCode(this)">Copy</button>
      <pre><code id="auth-dart" class="language-php"></code></pre>
    </div>

    <h3>Auth Service</h3>
    <p>Lokasi file: lib/services/auth_service.dart</p>
    <div class="code-block">
      <button class="copy-btn" onclick="copyCode(this)">Copy</button>
      <pre><code id="auth-services" class="language-php"></code></pre>
    </div>

    <h3>Auth Provider (State Management)</h3>
    <p>Lokasi file: lib/providers/auth_provider.dart</p>
    <div class="code-block">
      <button class="copy-btn" onclick="copyCode(this)">Copy</button>
      <pre><code id="auth-provider" class="language-php"></code></pre>
    </div>

    <h3>Login Screen</h3>
    <p>Lokasi file: lib/screens/login_screen.dart</p>
    <div class="code-block">
      <button class="copy-btn" onclick="copyCode(this)">Copy</button>
      <pre><code id="login-screen" class="language-php"></code></pre>
    </div>

    <h3>Register Screen</h3>
    <p>Lokasi file: lib/screens/register_screen.dart</p>
    <div class="code-block">
      <button class="copy-btn" onclick="copyCode(this)">Copy</button>
      <pre><code id="register-screen" class="language-php"></code></pre>
    </div>
  

    <h3>Update Main App dengan Provider dan Routes</h3>
      <p>Lokasi file: lib/main.dart</p>
    <div class="code-block">
      <button class="copy-btn" onclick="copyCode(this)">Copy</button>
      <pre><code id="main-update" class="language-php"></code></pre>     
    </div>


    <h3>Test Flutter Auth</h3>
    <div class="code-block">
      <button class="copy-btn" onclick="copyCode(this)">Copy</button>
      <pre><code class="language-php">
flutter run -d chrome
      </code></pre>
    </div>
    <p>Lakukan pengujian dengan membuka login screen, coba login
    menggunakan credential yang sudah di register di Postman atau 
    coba register user baru. Jika berhasil maka halaman akan 
    navigate ke HomeScreen.</p>

    <h2>Cart Provider</h2>
    <p>Lokasi file: lib/providers/cart_provider.dart</p>
    <div class="code-block">
      <button class="copy-btn" onclick="copyCode(this)">Copy</button>
      <pre><code id="cart-provider" class="language-php"></code></pre>
    </div>

    <h2>Cart Model</h2>
    <p>Lokasi file: lib/models/cart.dart</p>
    <div class="code-block">
      <button class="copy-btn" onclick="copyCode(this)">Copy</button>
      <pre><code id="cart-model" class="language-php"></code></pre>
    </div>

    <h2>Product Provider</h2>
    <p>Lokasi file: lib/providers/product_provider.dart</p>
    <div class="code-block">
      <button class="copy-btn" onclick="copyCode(this)">Copy</button>
      <pre><code id="product-provider" class="language-php"></code></pre>
    </div>

    <h2>Product Model</h2>
    <p>Lokasi file: lib/models/product.dart</p>
    <div class="code-block">
      <button class="copy-btn" onclick="copyCode(this)">Copy</button>
      <pre><code id="product-model" class="language-php"></code></pre>
    </div>

    <h2>Order Provider</h2>
    <p>Lokasi file: lib/providers/order_provider.dart</p>
    <div class="code-block">
      <button class="copy-btn" onclick="copyCode(this)">Copy</button>
      <pre><code id="order-provider" class="language-php"></code></pre>
    </div>

    <h2>Order Model</h2>
    <p>Lokasi file: lib/models/order.dart</p>
    <div class="code-block">
      <button class="copy-btn" onclick="copyCode(this)">Copy</button>
      <pre><code id="order-model" class="language-php"></code></pre>
    </div>

    
    <h2>Payment Provider</h2>
    <p>Lokasi file: lib/providers/payment_provider.dart</p>
    <div class="code-block">
      <button class="copy-btn" onclick="copyCode(this)">Copy</button>
      <pre><code id="payment-provider" class="language-php"></code></pre>
    </div>

    <h2>Payment Model</h2>
    <p>Lokasi file: lib/models/payment.dart</p>
    <div class="code-block">
      <button class="copy-btn" onclick="copyCode(this)">Copy</button>
      <pre><code id="payment-model" class="language-php"></code></pre>
    </div>

    <h2>Category Model</h2>
    <p>Lokasi file: lib/models/category.dart</p>
    <div class="code-block">
      <button class="copy-btn" onclick="copyCode(this)">Copy</button>
      <pre><code id="category-model" class="language-php"></code></pre>
    </div>

    <h2>Update main.dart</h2>
    <p>Lokasi file: lib/main.dart<br>Ubah kode keseluruhan.</p>
    <div class="code-block">
      <button class="copy-btn" onclick="copyCode(this)">Copy</button>
      <pre><code id="main-update2" class="language-php"></code></pre>
    </div>

    
    <h2>Update Api Services</h2>
    <p>Lokasi file: lib/services/api_service.dart<br>
    Ubah kode keseluruhan.</p>
    <div class="code-block">
      <button class="copy-btn" onclick="copyCode(this)">Copy</button>
      <pre><code id="api-update" class="language-php"></code></pre>
    </div>

    <h2>Tambahkan Product Card Widget</h2>
    <p>Lokasi file: lib/widgets/product_card.dart</p>
    <div class="code-block">
      <button class="copy-btn" onclick="copyCode(this)">Copy</button>
      <pre><code id="product_card" class="language-php"></code></pre>
    </div>

    <p>Pastikan tidak ada error (tanda merah) pada semua file code yang
      sudah dibuat. Jika semua sudah ok, maka kita telah menyelesaikan:<br>
‚úÖ Laravel Sanctum Setup<br>
‚úÖ Auth API (login/register/logout)<br>
‚úÖ Flutter Auth Service<br>
‚úÖ State Management dengan Provider<br>
‚úÖ Login & Register Screens<br>
‚úÖ Auto Navigation berdasarkan Auth Status<br>
‚úÖ Cart, Product, Order dan Payment Provider<br>
‚úÖ Cart, category, Order, Payment dan Product Model<br>
‚úÖ Product Card Widgets
    </p>

  </main>

  
  <footer>
    <a href="index.html">‚Üê Kembali</a>
  </footer>

  <script src="script.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/prismjs/prism.js"></script>
<script>
function loadCode(fileName, elementId) {
  fetch(fileName)
    .then(res => res.text())
    .then(code => {
      const el = document.getElementById(elementId);
      el.textContent = code;
      Prism.highlightElement(el);
    })
    .catch(err => console.error('Gagal memuat file:', err));
}

// memuat file langsung dari folder /codes/
loadCode('codes/6api-update.txt', 'api-update');
loadCode('codes/6auth-model.txt', 'auth-model');
loadCode('codes/6auth-provider.txt', 'auth-provider');
loadCode('codes/6auth-services.txt', 'auth-services');
loadCode('codes/6cart-model.txt', 'cart-model');

loadCode('codes/6cart-provider.txt', 'cart-provider');
loadCode('codes/6category-model.txt', 'category-model');
loadCode('codes/6login-screen.txt', 'login-screen');
loadCode('codes/6main-update.txt', 'main-update');
loadCode('codes/6main-update2.txt', 'main-update2');
loadCode('codes/6order-model.txt', 'order-model');
loadCode('codes/6order-provider.txt', 'order-provider');
loadCode('codes/6payment-model.txt', 'payment-model');
loadCode('codes/6payment-provider.txt', 'payment-provider');
loadCode('codes/6product_model.txt', 'product_model');
loadCode('codes/6product_provider.txt', 'product_provider');
loadCode('codes/6product-card.txt', 'product-card');
loadCode('codes/6register-screen.txt', 'register-screen');

</script>

</body>
</html>
