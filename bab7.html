<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Target Week 7 - Product Listing Screen & Product Detail Screen</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs/themes/prism.css">
</head>
<body>
  <header>
    <h1>Target Week 7 - Product Listing Screen & Product Detail Screen</h1>
    <nav>
      <a href="index.html">üè† Daftar Materi</a> |
      <a href="bab6.html">‚¨ÖÔ∏è Target Sebelumnya</a> |
      <a href="bab8.html">‚û°Ô∏è Target Berikutnya</a>
    </nav>
  </header>

  <main>
    <h2>Product Detail Screen</h2>
    <p>Tahap berikutnya kita buat screen untuk menampilkan detail produk
      dengan membuat Product Detail Screen.
    </p>
    <p>Lokasi file: lib/screens/product_detail_screen.dart</p>
    <div class="code-block">
      <button class="copy-btn" onclick="copyCode(this)">Copy</button>
      <pre><code id="product-detail" class="language-php"></code></pre>
    </div>

    <h2>Tambahkan Product Card Widget</h2>
    <p>Lokasi file: lib/widgets/product_card.dart</p>
    <div class="code-block">
      <button class="copy-btn" onclick="copyCode(this)">Copy</button>
      <pre><code id="product-card" class="language-php"></code></pre>
    </div>

    <h2>Tambahkan Product Grid Item</h2>
    <p>Lokasi file: lib/widgets/product_grid_item.dart</p>
    <div class="code-block">
      <button class="copy-btn" onclick="copyCode(this)">Copy</button>
      <pre><code id="product-grid" class="language-php"></code></pre>
    </div>


   <p>Jalankan aplikasi backend laravel dengan perintah <b>php artisan serve</b>
    dan jalankan flutter dengan perintah <b>flutter run -d chrome</b>. Jika
  berhasil maka akan muncul home screen yang menampilkan listing produk.</p>
  <figure>
      <img src="images/7product_listing.png" alt="product_listing" class="code-image">
      <figcaption>Gambar 7.1 Home Screen</figcaption>
    </figure>
    <p>Ketika klik tiap produk maka akan membuka detail produk. </p>
  <figure>
      <img src="images/7detail_produk.png" alt="detail_produk" class="code-image">
      <figcaption>Gambar 7.2 Detail Produk</figcaption>
    </figure>

    <h2>Tambahkan Search Bar</h2>
    <p>Fitur pencarian sudah lengkap di product provider, tinggal
      menambahkan search bar di home screen. Berikut adalah kode terbaru
      untuk home screen dengan menambahkan search bar.
    </p>
    <div class="code-block">
      <button class="copy-btn" onclick="copyCode(this)">Copy</button>
      <pre><code id="home-search" class="language-php"></code></pre>
    </div>
    <p>Running project dan uji search bar, home screen akan menampilkan
      produk yang sesuai dengan keyword search.
    </p>
    <figure>
      <img src="images/7home-search.png" alt="detail_produk" class="code-image">
      <figcaption>Gambar 7.3 Hasil pencarian produk</figcaption>
    </figure>

     <h2>Tambahkan Category Filter</h2>
    <p>Untuk meningkatkan UX, kita tambahkan filter product by category. Kita kembali
      ke backend dulu untum membuat Controller category dan menambahkan routes API.</p>
      <h3>Step 1. Tambahkan Controller Category di Backend</h3>
      <p>Buka project backend laravel, dan buat file controller untuk category.<br>
      Lokasi file: app/Http/Controllers/CategoryController.php</p>
    <div class="code-block">
      <button class="copy-btn" onclick="copyCode(this)">Copy</button>
      <pre><code id="category-controller" class="language-php"></code></pre>
    </div>

    <h3>Step 2. Tambahkan route untuk ambil semua kategori</h3>
    <p>Edit di routes/api.php dan tambahkan kode berikut.</p>
    <div class="code-block">
      <button class="copy-btn" onclick="copyCode(this)">Copy</button>
      <pre><code id="routes-category" class="language-php"></code></pre>
    </div>
    <p>Cek di Postman method GET dengan endpoint http://localhost:8000/api/categories</p>
    <figure>
      <img src="images/7get-category.png" alt="detail_produk" class="code-image">
      <figcaption>Gambar 7.4 Hasil get category backend</figcaption>
    </figure>

    <h3>Step 3. Tambahkan filter category di Home Screen Flutter</h3>
      <p>Semua proses terhubung ke ProductProvider dimana flutter akan memanggil setSelectedCategory()
      dan applyFilters(). Filter akan bergabung dengan hasil search sebelumnya secara real-time.<br>
      Copy dan replace kembali seluruh kode HomeScreen:
    </p>
    <div class="code-block">
      <button class="copy-btn" onclick="copyCode(this)">Copy</button>
      <pre><code id="home-filter" class="language-php"></code></pre>
    </div>
    <p>Running project dan uji search dan filter kategori, home screen akan menampilkan
      produk yang sesuai dengan keyword search dan kategori yang dipilih.
    </p>
    <figure>
      <img src="images/7home-filter.png" alt="detail_produk" class="code-image">
      <figcaption>Gambar 7.5 Hasil pencarian dan filter produk</figcaption>
    </figure>

    <h2>Menambahkan Banner Slider di Home Screen</h2>
    <p>Sebagai tahap awal kita gunakan mock local banners (gambar diambil dari URL).
      Gambar banner nantinya dapat dikembangkan dengan mengambil dari API.
    </p>
    <h3>Step 1. Install dependency yang dibutuhkan</h3>
        <div class="code-block">
      <button class="copy-btn" onclick="copyCode(this)">Copy</button>
      <pre><code class="language-php">
flutter pub add carousel_slider
      </code></pre>
    </div>
    <h3>Step 2. Buat Widget BannerSlider</h3>
    <p>Lokasi file: /widgets/banner_slider.dart</p>
    <div class="code-block">
      <button class="copy-btn" onclick="copyCode(this)">Copy</button>
      <pre><code id="banner-slider" class="language-php"></code></pre>
    </div>
    <h3>Tambahkan banner ke HomeScreen</h3>
    <p>Copy dan replace existing code HomeScreen dengan kode berikut.</p>
    <div class="code-block">
      <button class="copy-btn" onclick="copyCode(this)">Copy</button>
      <pre><code id="home-banner" class="language-php"></code></pre>
    </div>
    <p>Jalankan backend dengan perintah <bold>php artisan serve</bold> dan jalankan 
      flutter dengan perintah <bold>flutter run -d chrome</bold>. Jika
    hasilnya banner sudah terpasang dengan baik dan dapat di-slide, maka berhasil.</p>
    <figure>
      <img src="images/7banner-slide.png" alt="detail_produk" class="code-image">
      <figcaption>Gambar 7.5 Banner-slide di home screen</figcaption>
    </figure>

  <h2>Fitur Multi-Image Product Detail</h2>
  <p>Sekarang kita lanjut ke Fitur Multi-Image Product Detail, yaitu menampilkan 
    multiple images dalam bentuk carousel (slide kiri/kanan). Fitur dilengkapi dengan 
    Auto-scroll, Thumbnail indicator, support jika produk hanya punya 1 gambar dan 
    mengambil data dari field images di JSON.</p>  
  <h3>STEP 1. Update Product Model untuk Multiple Images</h3>
  <p>Kita sudah memiliki List untuk product image untuk menampung data gambar
    di product.dart.</p>
    <div class="code-block">
      <button class="copy-btn" onclick="copyCode(this)">Copy</button>
      <pre><code class="language-php">
final List<ProductImage> images;
      </code></pre>
    </div>
  <p>Kita juga sudah punya constructor untuk memanggil image dengan benar.</p>
    <div class="code-block">
      <button class="copy-btn" onclick="copyCode(this)">Copy</button>
      <pre><code class="language-php">
images: (json['images'] as List? ?? [])
    .map((image) => ProductImage.fromJson(image))
    .toList(),
      </code></pre>
    </div>
  <p>Kode ini sudah benar dan tidak perlu diubah.</p>

  <h3>Step 2. Buat Widget MultiImageSlider</h3>
  <p>Lokasi file: /widgets/multi_image_slider.dart</p>
<div class="code-block">
      <button class="copy-btn" onclick="copyCode(this)">Copy</button>
      <pre><code id="multi-image-slider" class="language-php"></code></pre>
    </div>
  <h3>Step 3. Integrasikan ke ProductDetailScreen</h3>
  <p>Buka file screens/product_detail_screen.dart, cari bagian ini:</p>
  <div class="code-block">
      <button class="copy-btn" onclick="copyCode(this)">Copy</button>
      <pre><code class="language-php">
background: Image.network(
  product.imageUrl,
  fit: BoxFit.cover,
)
      </code></pre>
    </div>
    <p>Ganti kode tersebut dengan kode ini:</p>
  <div class="code-block">
      <button class="copy-btn" onclick="copyCode(this)">Copy</button>
      <pre><code class="language-php">
background: MultiImageSlider(
  imageUrls: product.images.map((img) => img.imageUrl).toList(),
),
      </code></pre>
    </div>
    <p>Jangan lupa pada bagian atas product detail screen tambahkan:</p>
   <div class="code-block">
      <button class="copy-btn" onclick="copyCode(this)">Copy</button>
      <pre><code class="language-php">
import '../widgets/multi_image_slider.dart';
      </code></pre>
    </div>   
    <p>Kemudian replace bagian SliverAppBar pada product detail screen:</p>
    <div class="code-block">
      <button class="copy-btn" onclick="copyCode(this)">Copy</button>
      <pre><code id="SliverAppBar" class="language-php"></code></pre>
    </div>
    <p>Jalankan aplikasi (backend dan frontend), jika muncul image Slider
      pada product detail, berarti sudah berhasil.
    </p>
    <figure>
      <img src="images/7product-image-slider.png" alt="detail_produk" class="code-image">
      <figcaption>Gambar 7.6 Gambar pada product detail dapat digeser</figcaption>
    </figure>
  </main>

  
  <footer>
    <a href="index.html">‚Üê Kembali</a>
  </footer>

  <script src="script.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/prismjs/prism.js"></script>
<script>
function loadCode(fileName, elementId) {
  fetch(fileName)
    .then(res => res.text())
    .then(code => {
      const el = document.getElementById(elementId);
      el.textContent = code;
      Prism.highlightElement(el);
    })
    .catch(err => console.error('Gagal memuat file:', err));
}

// memuat file langsung dari folder /codes/
loadCode('codes/7product-card.txt', 'product-card');
loadCode('codes/7product-detail.txt', 'product-detail');
loadCode('codes/7product-grid.txt', 'product-grid');
loadCode('codes/7home-search.txt', 'home-search');
loadCode('codes/7category-controller.txt', 'category-controller');
loadCode('codes/7routes-category.txt', 'routes-category');
loadCode('codes/7home-filter.txt', 'home-filter');
loadCode('codes/7banner-slider.txt', 'banner-slider');
loadCode('codes/7home-banner.txt', 'home-banner');
loadCode('codes/7multi-image-slider.txt', 'multi-image-slider');
loadCode('codes/7SliverAppBar.txt', 'SliverAppBar');
</script>

</body>
</html>

